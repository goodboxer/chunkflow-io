import{_ as bi,r as Rn,S as Ai,a as Ii,g as Si,b as Ri}from"./vendor_firebase_app-YLVDrfJD.js";const Oi=()=>{};var On={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=function(s){const i=[];let u=0;for(let g=0;g<s.length;g++){let y=s.charCodeAt(g);y<128?i[u++]=y:y<2048?(i[u++]=y>>6|192,i[u++]=y&63|128):(y&64512)===55296&&g+1<s.length&&(s.charCodeAt(g+1)&64512)===56320?(y=65536+((y&1023)<<10)+(s.charCodeAt(++g)&1023),i[u++]=y>>18|240,i[u++]=y>>12&63|128,i[u++]=y>>6&63|128,i[u++]=y&63|128):(i[u++]=y>>12|224,i[u++]=y>>6&63|128,i[u++]=y&63|128)}return i},Di=function(s){const i=[];let u=0,g=0;for(;u<s.length;){const y=s[u++];if(y<128)i[g++]=String.fromCharCode(y);else if(y>191&&y<224){const w=s[u++];i[g++]=String.fromCharCode((y&31)<<6|w&63)}else if(y>239&&y<365){const w=s[u++],v=s[u++],C=s[u++],b=((y&7)<<18|(w&63)<<12|(v&63)<<6|C&63)-65536;i[g++]=String.fromCharCode(55296+(b>>10)),i[g++]=String.fromCharCode(56320+(b&1023))}else{const w=s[u++],v=s[u++];i[g++]=String.fromCharCode((y&15)<<12|(w&63)<<6|v&63)}}return i.join("")},Hn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,i){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const u=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,g=[];for(let y=0;y<s.length;y+=3){const w=s[y],v=y+1<s.length,C=v?s[y+1]:0,b=y+2<s.length,T=b?s[y+2]:0,R=w>>2,A=(w&3)<<4|C>>4;let E=(C&15)<<2|T>>6,P=T&63;b||(P=64,v||(E=64)),g.push(u[R],u[A],u[E],u[P])}return g.join("")},encodeString(s,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(s):this.encodeByteArray(Un(s),i)},decodeString(s,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(s):Di(this.decodeStringToByteArray(s,i))},decodeStringToByteArray(s,i){this.init_();const u=i?this.charToByteMapWebSafe_:this.charToByteMap_,g=[];for(let y=0;y<s.length;){const w=u[s.charAt(y++)],C=y<s.length?u[s.charAt(y)]:0;++y;const T=y<s.length?u[s.charAt(y)]:64;++y;const A=y<s.length?u[s.charAt(y)]:64;if(++y,w==null||C==null||T==null||A==null)throw new ki;const E=w<<2|C>>4;if(g.push(E),T!==64){const P=C<<4&240|T>>2;if(g.push(P),A!==64){const D=T<<6&192|A;g.push(D)}}}return g},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ki extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xi=function(s){const i=Un(s);return Hn.encodeByteArray(i,!0)},Dn=function(s){return xi(s).replace(/\./g,"")},Pi=function(s){try{return Hn.decodeString(s,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=()=>Ni().__FIREBASE_DEFAULTS__,ji=()=>{if(typeof process>"u"||typeof On>"u")return;const s=On.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Bi=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const i=s&&Pi(s[1]);return i&&JSON.parse(i)},Zt=()=>{try{return Oi()||Mi()||ji()||Bi()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Li=s=>{var i,u;return(u=(i=Zt())==null?void 0:i.emulatorHosts)==null?void 0:u[s]},Ui=s=>{const i=Li(s);if(!i)return;const u=i.lastIndexOf(":");if(u<=0||u+1===i.length)throw new Error(`Invalid host ${i} with no separate hostname and port!`);const g=parseInt(i.substring(u+1),10);return i[0]==="["?[i.substring(1,u-1),g]:[i.substring(0,u),g]},Ks=()=>{var s;return(s=Zt())==null?void 0:s.config},Ys=s=>{var i;return(i=Zt())==null?void 0:i[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,u)=>{this.resolve=i,this.reject=u})}wrapCallback(i){return(u,g)=>{u?this.reject(u):this.resolve(g),typeof i=="function"&&(this.promise.catch(()=>{}),i.length===1?i(u):i(u,g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fi(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(s,i){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const u={alg:"none",type:"JWT"},g=i||"demo-project",y=s.iat||0,w=s.sub||s.user_id;if(!w)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const v={iss:`https://securetoken.google.com/${g}`,aud:g,iat:y,exp:y+3600,auth_time:y,sub:w,user_id:w,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Dn(JSON.stringify(u)),Dn(JSON.stringify(v)),""].join(".")}const xt={};function Vi(){const s={prod:[],emulator:[]};for(const i of Object.keys(xt))xt[i]?s.emulator.push(i):s.prod.push(i);return s}function Wi(s){let i=document.getElementById(s),u=!1;return i||(i=document.createElement("div"),i.setAttribute("id",s),u=!0),{created:u,element:i}}let kn=!1;function Xi(s,i){if(typeof window>"u"||typeof document>"u"||!Fn(window.location.host)||xt[s]===i||xt[s]||kn)return;xt[s]=i;function u(E){return`__firebase__banner__${E}`}const g="__firebase__banner",w=Vi().prod.length>0;function v(){const E=document.getElementById(g);E&&E.remove()}function C(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function b(E,P){E.setAttribute("width","24"),E.setAttribute("id",P),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function T(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{kn=!0,v()},E}function R(E,P){E.setAttribute("id",P),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function A(){const E=Wi(g),P=u("text"),D=document.getElementById(P)||document.createElement("span"),N=u("learnmore"),S=document.getElementById(N)||document.createElement("a"),W=u("preprendIcon"),$=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;C(B),R(S,N);const j=T();b($,W),B.append($,D,S,j),document.body.appendChild(B)}w?(D.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Js(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function $i(){var i;const s=(i=Zt())==null?void 0:i.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qs(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zs(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Qs(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tr(){const s=zn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function er(){return!$i()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nr(){try{return typeof indexedDB=="object"}catch{return!1}}function ir(){return new Promise((s,i)=>{try{let u=!0;const g="validate-browser-context-for-indexeddb-analytics-module",y=self.indexedDB.open(g);y.onsuccess=()=>{y.result.close(),u||self.indexedDB.deleteDatabase(g),s(!0)},y.onupgradeneeded=()=>{u=!1},y.onerror=()=>{var w;i(((w=y.error)==null?void 0:w.message)||"")}}catch(u){i(u)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="FirebaseError";class Qt extends Error{constructor(i,u,g){super(u),this.code=i,this.customData=g,this.name=Gi,Object.setPrototypeOf(this,Qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ki.prototype.create)}}class Ki{constructor(i,u,g){this.service=i,this.serviceName=u,this.errors=g}create(i,...u){const g=u[0]||{},y=`${this.service}/${i}`,w=this.errors[i],v=w?Yi(w,g):"Error",C=`${this.serviceName}: ${v} (${y}).`;return new Qt(y,C,g)}}function Yi(s,i){return s.replace(Ji,(u,g)=>{const y=i[g];return y!=null?String(y):`<${g}?>`})}const Ji=/\{\$([^}]+)}/g;function sr(s){for(const i in s)if(Object.prototype.hasOwnProperty.call(s,i))return!1;return!0}function qi(s,i){if(s===i)return!0;const u=Object.keys(s),g=Object.keys(i);for(const y of u){if(!g.includes(y))return!1;const w=s[y],v=i[y];if(xn(w)&&xn(v)){if(!qi(w,v))return!1}else if(w!==v)return!1}for(const y of g)if(!u.includes(y))return!1;return!0}function xn(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(s){const i=[];for(const[u,g]of Object.entries(s))Array.isArray(g)?g.forEach(y=>{i.push(encodeURIComponent(u)+"="+encodeURIComponent(y))}):i.push(encodeURIComponent(u)+"="+encodeURIComponent(g));return i.length?"&"+i.join("&"):""}function or(s){const i={};return s.replace(/^\?/,"").split("&").forEach(g=>{if(g){const[y,w]=g.split("=");i[decodeURIComponent(y)]=decodeURIComponent(w)}}),i}function hr(s){const i=s.indexOf("?");if(!i)return"";const u=s.indexOf("#",i);return s.substring(i,u>0?u:void 0)}function lr(s,i){const u=new Zi(s,i);return u.subscribe.bind(u)}class Zi{constructor(i,u){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=u,this.task.then(()=>{i(this)}).catch(g=>{this.error(g)})}next(i){this.forEachObserver(u=>{u.next(i)})}error(i){this.forEachObserver(u=>{u.error(i)}),this.close(i)}complete(){this.forEachObserver(i=>{i.complete()}),this.close()}subscribe(i,u,g){let y;if(i===void 0&&u===void 0&&g===void 0)throw new Error("Missing Observer.");Qi(i,["next","error","complete"])?y=i:y={next:i,error:u,complete:g},y.next===void 0&&(y.next=be),y.error===void 0&&(y.error=be),y.complete===void 0&&(y.complete=be);const w=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?y.error(this.finalError):y.complete()}catch{}}),this.observers.push(y),w}unsubscribeOne(i){this.observers===void 0||this.observers[i]===void 0||(delete this.observers[i],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(i){if(!this.finalized)for(let u=0;u<this.observers.length;u++)this.sendOne(u,i)}sendOne(i,u){this.task.then(()=>{if(this.observers!==void 0&&this.observers[i]!==void 0)try{u(this.observers[i])}catch(g){typeof console<"u"&&console.error&&console.error(g)}})}close(i){this.finalized||(this.finalized=!0,i!==void 0&&(this.finalError=i),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qi(s,i){if(typeof s!="object"||s===null)return!1;for(const u of i)if(u in s&&typeof s[u]=="function")return!0;return!1}function be(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(s){return s&&s._delegate?s._delegate:s}class es{constructor(i,u,g){this.name=i,this.instanceFactory=u,this.type=g,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(i,u){this.name=i,this.container=u,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){const u=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(u)){const g=new Hi;if(this.instancesDeferred.set(u,g),this.isInitialized(u)||this.shouldAutoInitialize())try{const y=this.getOrInitializeService({instanceIdentifier:u});y&&g.resolve(y)}catch{}}return this.instancesDeferred.get(u).promise}getImmediate(i){const u=this.normalizeInstanceIdentifier(i==null?void 0:i.identifier),g=(i==null?void 0:i.optional)??!1;if(this.isInitialized(u)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:u})}catch(y){if(g)return null;throw y}else{if(g)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,!!this.shouldAutoInitialize()){if(ss(i))try{this.getOrInitializeService({instanceIdentifier:ft})}catch{}for(const[u,g]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);try{const w=this.getOrInitializeService({instanceIdentifier:y});g.resolve(w)}catch{}}}}clearInstance(i=ft){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}async delete(){const i=Array.from(this.instances.values());await Promise.all([...i.filter(u=>"INTERNAL"in u).map(u=>u.INTERNAL.delete()),...i.filter(u=>"_delete"in u).map(u=>u._delete())])}isComponentSet(){return this.component!=null}isInitialized(i=ft){return this.instances.has(i)}getOptions(i=ft){return this.instancesOptions.get(i)||{}}initialize(i={}){const{options:u={}}=i,g=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(g))throw Error(`${this.name}(${g}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const y=this.getOrInitializeService({instanceIdentifier:g,options:u});for(const[w,v]of this.instancesDeferred.entries()){const C=this.normalizeInstanceIdentifier(w);g===C&&v.resolve(y)}return y}onInit(i,u){const g=this.normalizeInstanceIdentifier(u),y=this.onInitCallbacks.get(g)??new Set;y.add(i),this.onInitCallbacks.set(g,y);const w=this.instances.get(g);return w&&i(w,g),()=>{y.delete(i)}}invokeOnInitCallbacks(i,u){const g=this.onInitCallbacks.get(u);if(g)for(const y of g)try{y(i,u)}catch{}}getOrInitializeService({instanceIdentifier:i,options:u={}}){let g=this.instances.get(i);if(!g&&this.component&&(g=this.component.instanceFactory(this.container,{instanceIdentifier:is(i),options:u}),this.instances.set(i,g),this.instancesOptions.set(i,u),this.invokeOnInitCallbacks(g,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,g)}catch{}return g||null}normalizeInstanceIdentifier(i=ft){return this.component?this.component.multipleInstances?i:ft:i}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function is(s){return s===ft?void 0:s}function ss(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(i){this.name=i,this.providers=new Map}addComponent(i){const u=this.getProvider(i.name);if(u.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);u.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);const u=new ns(i,this);return this.providers.set(i,u),u}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(x||(x={}));const rs={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},os=x.INFO,hs={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},ls=(s,i,...u)=>{if(i<s.logLevel)return;const g=new Date().toISOString(),y=hs[i];if(y)console[y](`[${g}]  ${s.name}:`,...u);else throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`)};class cr{constructor(i){this.name=i,this._logLevel=os,this._logHandler=ls,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in x))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel=typeof i=="string"?rs[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if(typeof i!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...i),this._logHandler(this,x.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...i),this._logHandler(this,x.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,x.INFO,...i),this._logHandler(this,x.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,x.WARN,...i),this._logHandler(this,x.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,x.ERROR,...i),this._logHandler(this,x.ERROR,...i)}}var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,cs;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function i(a,o){function l(){}l.prototype=o.prototype,a.F=o.prototype,a.prototype=new l,a.prototype.constructor=a,a.D=function(f,c,d){for(var h=Array(arguments.length-2),X=2;X<arguments.length;X++)h[X-2]=arguments[X];return o.prototype[c].apply(f,h)}}function u(){this.blockSize=-1}function g(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}i(g,u),g.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function y(a,o,l){l||(l=0);const f=Array(16);if(typeof o=="string")for(var c=0;c<16;++c)f[c]=o.charCodeAt(l++)|o.charCodeAt(l++)<<8|o.charCodeAt(l++)<<16|o.charCodeAt(l++)<<24;else for(c=0;c<16;++c)f[c]=o[l++]|o[l++]<<8|o[l++]<<16|o[l++]<<24;o=a.g[0],l=a.g[1],c=a.g[2];let d=a.g[3],h;h=o+(d^l&(c^d))+f[0]+3614090360&4294967295,o=l+(h<<7&4294967295|h>>>25),h=d+(c^o&(l^c))+f[1]+3905402710&4294967295,d=o+(h<<12&4294967295|h>>>20),h=c+(l^d&(o^l))+f[2]+606105819&4294967295,c=d+(h<<17&4294967295|h>>>15),h=l+(o^c&(d^o))+f[3]+3250441966&4294967295,l=c+(h<<22&4294967295|h>>>10),h=o+(d^l&(c^d))+f[4]+4118548399&4294967295,o=l+(h<<7&4294967295|h>>>25),h=d+(c^o&(l^c))+f[5]+1200080426&4294967295,d=o+(h<<12&4294967295|h>>>20),h=c+(l^d&(o^l))+f[6]+2821735955&4294967295,c=d+(h<<17&4294967295|h>>>15),h=l+(o^c&(d^o))+f[7]+4249261313&4294967295,l=c+(h<<22&4294967295|h>>>10),h=o+(d^l&(c^d))+f[8]+1770035416&4294967295,o=l+(h<<7&4294967295|h>>>25),h=d+(c^o&(l^c))+f[9]+2336552879&4294967295,d=o+(h<<12&4294967295|h>>>20),h=c+(l^d&(o^l))+f[10]+4294925233&4294967295,c=d+(h<<17&4294967295|h>>>15),h=l+(o^c&(d^o))+f[11]+2304563134&4294967295,l=c+(h<<22&4294967295|h>>>10),h=o+(d^l&(c^d))+f[12]+1804603682&4294967295,o=l+(h<<7&4294967295|h>>>25),h=d+(c^o&(l^c))+f[13]+4254626195&4294967295,d=o+(h<<12&4294967295|h>>>20),h=c+(l^d&(o^l))+f[14]+2792965006&4294967295,c=d+(h<<17&4294967295|h>>>15),h=l+(o^c&(d^o))+f[15]+1236535329&4294967295,l=c+(h<<22&4294967295|h>>>10),h=o+(c^d&(l^c))+f[1]+4129170786&4294967295,o=l+(h<<5&4294967295|h>>>27),h=d+(l^c&(o^l))+f[6]+3225465664&4294967295,d=o+(h<<9&4294967295|h>>>23),h=c+(o^l&(d^o))+f[11]+643717713&4294967295,c=d+(h<<14&4294967295|h>>>18),h=l+(d^o&(c^d))+f[0]+3921069994&4294967295,l=c+(h<<20&4294967295|h>>>12),h=o+(c^d&(l^c))+f[5]+3593408605&4294967295,o=l+(h<<5&4294967295|h>>>27),h=d+(l^c&(o^l))+f[10]+38016083&4294967295,d=o+(h<<9&4294967295|h>>>23),h=c+(o^l&(d^o))+f[15]+3634488961&4294967295,c=d+(h<<14&4294967295|h>>>18),h=l+(d^o&(c^d))+f[4]+3889429448&4294967295,l=c+(h<<20&4294967295|h>>>12),h=o+(c^d&(l^c))+f[9]+568446438&4294967295,o=l+(h<<5&4294967295|h>>>27),h=d+(l^c&(o^l))+f[14]+3275163606&4294967295,d=o+(h<<9&4294967295|h>>>23),h=c+(o^l&(d^o))+f[3]+4107603335&4294967295,c=d+(h<<14&4294967295|h>>>18),h=l+(d^o&(c^d))+f[8]+1163531501&4294967295,l=c+(h<<20&4294967295|h>>>12),h=o+(c^d&(l^c))+f[13]+2850285829&4294967295,o=l+(h<<5&4294967295|h>>>27),h=d+(l^c&(o^l))+f[2]+4243563512&4294967295,d=o+(h<<9&4294967295|h>>>23),h=c+(o^l&(d^o))+f[7]+1735328473&4294967295,c=d+(h<<14&4294967295|h>>>18),h=l+(d^o&(c^d))+f[12]+2368359562&4294967295,l=c+(h<<20&4294967295|h>>>12),h=o+(l^c^d)+f[5]+4294588738&4294967295,o=l+(h<<4&4294967295|h>>>28),h=d+(o^l^c)+f[8]+2272392833&4294967295,d=o+(h<<11&4294967295|h>>>21),h=c+(d^o^l)+f[11]+1839030562&4294967295,c=d+(h<<16&4294967295|h>>>16),h=l+(c^d^o)+f[14]+4259657740&4294967295,l=c+(h<<23&4294967295|h>>>9),h=o+(l^c^d)+f[1]+2763975236&4294967295,o=l+(h<<4&4294967295|h>>>28),h=d+(o^l^c)+f[4]+1272893353&4294967295,d=o+(h<<11&4294967295|h>>>21),h=c+(d^o^l)+f[7]+4139469664&4294967295,c=d+(h<<16&4294967295|h>>>16),h=l+(c^d^o)+f[10]+3200236656&4294967295,l=c+(h<<23&4294967295|h>>>9),h=o+(l^c^d)+f[13]+681279174&4294967295,o=l+(h<<4&4294967295|h>>>28),h=d+(o^l^c)+f[0]+3936430074&4294967295,d=o+(h<<11&4294967295|h>>>21),h=c+(d^o^l)+f[3]+3572445317&4294967295,c=d+(h<<16&4294967295|h>>>16),h=l+(c^d^o)+f[6]+76029189&4294967295,l=c+(h<<23&4294967295|h>>>9),h=o+(l^c^d)+f[9]+3654602809&4294967295,o=l+(h<<4&4294967295|h>>>28),h=d+(o^l^c)+f[12]+3873151461&4294967295,d=o+(h<<11&4294967295|h>>>21),h=c+(d^o^l)+f[15]+530742520&4294967295,c=d+(h<<16&4294967295|h>>>16),h=l+(c^d^o)+f[2]+3299628645&4294967295,l=c+(h<<23&4294967295|h>>>9),h=o+(c^(l|~d))+f[0]+4096336452&4294967295,o=l+(h<<6&4294967295|h>>>26),h=d+(l^(o|~c))+f[7]+1126891415&4294967295,d=o+(h<<10&4294967295|h>>>22),h=c+(o^(d|~l))+f[14]+2878612391&4294967295,c=d+(h<<15&4294967295|h>>>17),h=l+(d^(c|~o))+f[5]+4237533241&4294967295,l=c+(h<<21&4294967295|h>>>11),h=o+(c^(l|~d))+f[12]+1700485571&4294967295,o=l+(h<<6&4294967295|h>>>26),h=d+(l^(o|~c))+f[3]+2399980690&4294967295,d=o+(h<<10&4294967295|h>>>22),h=c+(o^(d|~l))+f[10]+4293915773&4294967295,c=d+(h<<15&4294967295|h>>>17),h=l+(d^(c|~o))+f[1]+2240044497&4294967295,l=c+(h<<21&4294967295|h>>>11),h=o+(c^(l|~d))+f[8]+1873313359&4294967295,o=l+(h<<6&4294967295|h>>>26),h=d+(l^(o|~c))+f[15]+4264355552&4294967295,d=o+(h<<10&4294967295|h>>>22),h=c+(o^(d|~l))+f[6]+2734768916&4294967295,c=d+(h<<15&4294967295|h>>>17),h=l+(d^(c|~o))+f[13]+1309151649&4294967295,l=c+(h<<21&4294967295|h>>>11),h=o+(c^(l|~d))+f[4]+4149444226&4294967295,o=l+(h<<6&4294967295|h>>>26),h=d+(l^(o|~c))+f[11]+3174756917&4294967295,d=o+(h<<10&4294967295|h>>>22),h=c+(o^(d|~l))+f[2]+718787259&4294967295,c=d+(h<<15&4294967295|h>>>17),h=l+(d^(c|~o))+f[9]+3951481745&4294967295,a.g[0]=a.g[0]+o&4294967295,a.g[1]=a.g[1]+(c+(h<<21&4294967295|h>>>11))&4294967295,a.g[2]=a.g[2]+c&4294967295,a.g[3]=a.g[3]+d&4294967295}g.prototype.v=function(a,o){o===void 0&&(o=a.length);const l=o-this.blockSize,f=this.C;let c=this.h,d=0;for(;d<o;){if(c==0)for(;d<=l;)y(this,a,d),d+=this.blockSize;if(typeof a=="string"){for(;d<o;)if(f[c++]=a.charCodeAt(d++),c==this.blockSize){y(this,f),c=0;break}}else for(;d<o;)if(f[c++]=a[d++],c==this.blockSize){y(this,f),c=0;break}}this.h=c,this.o+=o},g.prototype.A=function(){var a=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);a[0]=128;for(var o=1;o<a.length-8;++o)a[o]=0;o=this.o*8;for(var l=a.length-8;l<a.length;++l)a[l]=o&255,o/=256;for(this.v(a),a=Array(16),o=0,l=0;l<4;++l)for(let f=0;f<32;f+=8)a[o++]=this.g[l]>>>f&255;return a};function w(a,o){var l=C;return Object.prototype.hasOwnProperty.call(l,a)?l[a]:l[a]=o(a)}function v(a,o){this.h=o;const l=[];let f=!0;for(let c=a.length-1;c>=0;c--){const d=a[c]|0;f&&d==o||(l[c]=d,f=!1)}this.g=l}var C={};function b(a){return-128<=a&&a<128?w(a,function(o){return new v([o|0],o<0?-1:0)}):new v([a|0],a<0?-1:0)}function T(a){if(isNaN(a)||!isFinite(a))return A;if(a<0)return S(T(-a));const o=[];let l=1;for(let f=0;a>=l;f++)o[f]=a/l|0,l*=4294967296;return new v(o,0)}function R(a,o){if(a.length==0)throw Error("number format error: empty string");if(o=o||10,o<2||36<o)throw Error("radix out of range: "+o);if(a.charAt(0)=="-")return S(R(a.substring(1),o));if(a.indexOf("-")>=0)throw Error('number format error: interior "-" character');const l=T(Math.pow(o,8));let f=A;for(let d=0;d<a.length;d+=8){var c=Math.min(8,a.length-d);const h=parseInt(a.substring(d,d+c),o);c<8?(c=T(Math.pow(o,c)),f=f.j(c).add(T(h))):(f=f.j(l),f=f.add(T(h)))}return f}var A=b(0),E=b(1),P=b(16777216);s=v.prototype,s.m=function(){if(N(this))return-S(this).m();let a=0,o=1;for(let l=0;l<this.g.length;l++){const f=this.i(l);a+=(f>=0?f:4294967296+f)*o,o*=4294967296}return a},s.toString=function(a){if(a=a||10,a<2||36<a)throw Error("radix out of range: "+a);if(D(this))return"0";if(N(this))return"-"+S(this).toString(a);const o=T(Math.pow(a,6));var l=this;let f="";for(;;){const c=j(l,o).g;l=W(l,c.j(o));let d=((l.g.length>0?l.g[0]:l.h)>>>0).toString(a);if(l=c,D(l))return d+f;for(;d.length<6;)d="0"+d;f=d+f}},s.i=function(a){return a<0?0:a<this.g.length?this.g[a]:this.h};function D(a){if(a.h!=0)return!1;for(let o=0;o<a.g.length;o++)if(a.g[o]!=0)return!1;return!0}function N(a){return a.h==-1}s.l=function(a){return a=W(this,a),N(a)?-1:D(a)?0:1};function S(a){const o=a.g.length,l=[];for(let f=0;f<o;f++)l[f]=~a.g[f];return new v(l,~a.h).add(E)}s.abs=function(){return N(this)?S(this):this},s.add=function(a){const o=Math.max(this.g.length,a.g.length),l=[];let f=0;for(let c=0;c<=o;c++){let d=f+(this.i(c)&65535)+(a.i(c)&65535),h=(d>>>16)+(this.i(c)>>>16)+(a.i(c)>>>16);f=h>>>16,d&=65535,h&=65535,l[c]=h<<16|d}return new v(l,l[l.length-1]&-2147483648?-1:0)};function W(a,o){return a.add(S(o))}s.j=function(a){if(D(this)||D(a))return A;if(N(this))return N(a)?S(this).j(S(a)):S(S(this).j(a));if(N(a))return S(this.j(S(a)));if(this.l(P)<0&&a.l(P)<0)return T(this.m()*a.m());const o=this.g.length+a.g.length,l=[];for(var f=0;f<2*o;f++)l[f]=0;for(f=0;f<this.g.length;f++)for(let c=0;c<a.g.length;c++){const d=this.i(f)>>>16,h=this.i(f)&65535,X=a.i(c)>>>16,ot=a.i(c)&65535;l[2*f+2*c]+=h*ot,$(l,2*f+2*c),l[2*f+2*c+1]+=d*ot,$(l,2*f+2*c+1),l[2*f+2*c+1]+=h*X,$(l,2*f+2*c+1),l[2*f+2*c+2]+=d*X,$(l,2*f+2*c+2)}for(a=0;a<o;a++)l[a]=l[2*a+1]<<16|l[2*a];for(a=o;a<2*o;a++)l[a]=0;return new v(l,0)};function $(a,o){for(;(a[o]&65535)!=a[o];)a[o+1]+=a[o]>>>16,a[o]&=65535,o++}function B(a,o){this.g=a,this.h=o}function j(a,o){if(D(o))throw Error("division by zero");if(D(a))return new B(A,A);if(N(a))return o=j(S(a),o),new B(S(o.g),S(o.h));if(N(o))return o=j(a,S(o)),new B(S(o.g),o.h);if(a.g.length>30){if(N(a)||N(o))throw Error("slowDivide_ only works with positive integers.");for(var l=E,f=o;f.l(a)<=0;)l=G(l),f=G(f);var c=H(l,1),d=H(f,1);for(f=H(f,2),l=H(l,2);!D(f);){var h=d.add(f);h.l(a)<=0&&(c=c.add(l),d=h),f=H(f,1),l=H(l,1)}return o=W(a,c.j(o)),new B(c,o)}for(c=A;a.l(o)>=0;){for(l=Math.max(1,Math.floor(a.m()/o.m())),f=Math.ceil(Math.log(l)/Math.LN2),f=f<=48?1:Math.pow(2,f-48),d=T(l),h=d.j(o);N(h)||h.l(a)>0;)l-=f,d=T(l),h=d.j(o);D(d)&&(d=E),c=c.add(d),a=W(a,h)}return new B(c,a)}s.B=function(a){return j(this,a).h},s.and=function(a){const o=Math.max(this.g.length,a.g.length),l=[];for(let f=0;f<o;f++)l[f]=this.i(f)&a.i(f);return new v(l,this.h&a.h)},s.or=function(a){const o=Math.max(this.g.length,a.g.length),l=[];for(let f=0;f<o;f++)l[f]=this.i(f)|a.i(f);return new v(l,this.h|a.h)},s.xor=function(a){const o=Math.max(this.g.length,a.g.length),l=[];for(let f=0;f<o;f++)l[f]=this.i(f)^a.i(f);return new v(l,this.h^a.h)};function G(a){const o=a.g.length+1,l=[];for(let f=0;f<o;f++)l[f]=a.i(f)<<1|a.i(f-1)>>>31;return new v(l,a.h)}function H(a,o){const l=o>>5;o%=32;const f=a.g.length-l,c=[];for(let d=0;d<f;d++)c[d]=o>0?a.i(d+l)>>>o|a.i(d+l+1)<<32-o:a.i(d+l);return new v(c,a.h)}g.prototype.digest=g.prototype.A,g.prototype.reset=g.prototype.u,g.prototype.update=g.prototype.v,cs=g,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.B,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=T,v.fromString=R,us=v}).apply(typeof Pn<"u"?Pn:typeof self<"u"?self:typeof window<"u"?window:{});var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,fs,ps,gs,ds,ys,ms,vs;(function(){var s,i=Object.defineProperty;function u(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kt=="object"&&Kt];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var g=u(this);function y(t,e){if(e)t:{var n=g;t=t.split(".");for(var r=0;r<t.length-1;r++){var p=t[r];if(!(p in n))break t;n=n[p]}t=t[t.length-1],r=n[t],e=e(r),e!=r&&e!=null&&i(n,t,{configurable:!0,writable:!0,value:e})}}y("Symbol.dispose",function(t){return t||Symbol("Symbol.dispose")}),y("Array.prototype.values",function(t){return t||function(){return this[Symbol.iterator]()}}),y("Object.entries",function(t){return t||function(e){var n=[],r;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push([r,e[r]]);return n}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var w=w||{},v=this||self;function C(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function b(t,e,n){return t.call.apply(t.bind,arguments)}function T(t,e,n){return T=b,T.apply(null,arguments)}function R(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function A(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Ob=function(r,p,m){for(var _=Array(arguments.length-2),I=2;I<arguments.length;I++)_[I-2]=arguments[I];return e.prototype[p].apply(r,_)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?t=>t&&AsyncContext.Snapshot.wrap(t):t=>t;function P(t){const e=t.length;if(e>0){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function D(t,e){for(let r=1;r<arguments.length;r++){const p=arguments[r];var n=typeof p;if(n=n!="object"?n:p?Array.isArray(p)?"array":n:"null",n=="array"||n=="object"&&typeof p.length=="number"){n=t.length||0;const m=p.length||0;t.length=n+m;for(let _=0;_<m;_++)t[n+_]=p[_]}else t.push(p)}}class N{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function S(t){v.setTimeout(()=>{throw t},0)}function W(){var t=a;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class ${constructor(){this.h=this.g=null}add(e,n){const r=B.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var B=new N(()=>new j,t=>t.reset());class j{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}let G,H=!1,a=new $,o=()=>{const t=Promise.resolve(void 0);G=()=>{t.then(l)}};function l(){for(var t;t=W();){try{t.h.call(t.g)}catch(n){S(n)}var e=B;e.j(t),e.h<100&&(e.h++,t.next=e.g,e.g=t)}H=!1}function f(){this.u=this.u,this.C=this.C}f.prototype.u=!1,f.prototype.dispose=function(){this.u||(this.u=!0,this.N())},f.prototype[Symbol.dispose]=function(){this.dispose()},f.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function c(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}c.prototype.h=function(){this.defaultPrevented=!0};var d=(function(){if(!v.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};v.addEventListener("test",n,e),v.removeEventListener("test",n,e)}catch{}return t})();function h(t){return/^[\s\xa0]*$/.test(t)}function X(t,e){c.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t&&this.init(t,e)}A(X,c),X.prototype.init=function(t,e){const n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget,e||(n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement)),this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=t.pointerType,this.state=t.state,this.i=t,t.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ot="closure_listenable_"+(Math.random()*1e6|0),$n=0;function Gn(t,e,n,r,p){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=p,this.key=++$n,this.da=this.fa=!1}function Pt(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Nt(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Kn(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Ie(t){const e={};for(const n in t)e[n]=t[n];return e}const Se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Re(t,e){let n,r;for(let p=1;p<arguments.length;p++){r=arguments[p];for(n in r)t[n]=r[n];for(let m=0;m<Se.length;m++)n=Se[m],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Mt(t){this.src=t,this.g={},this.h=0}Mt.prototype.add=function(t,e,n,r,p){const m=t.toString();t=this.g[m],t||(t=this.g[m]=[],this.h++);const _=ee(t,e,r,p);return _>-1?(e=t[_],n||(e.fa=!1)):(e=new Gn(e,this.src,m,!!r,p),e.fa=n,t.push(e)),e};function te(t,e){const n=e.type;if(n in t.g){var r=t.g[n],p=Array.prototype.indexOf.call(r,e,void 0),m;(m=p>=0)&&Array.prototype.splice.call(r,p,1),m&&(Pt(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ee(t,e,n,r){for(let p=0;p<t.length;++p){const m=t[p];if(!m.da&&m.listener==e&&m.capture==!!n&&m.ha==r)return p}return-1}var ne="closure_lm_"+(Math.random()*1e6|0),ie={};function Oe(t,e,n,r,p){if(Array.isArray(e)){for(let m=0;m<e.length;m++)Oe(t,e[m],n,r,p);return null}return n=xe(n),t&&t[ot]?t.J(e,n,C(r)?!!r.capture:!1,p):Yn(t,e,n,!1,r,p)}function Yn(t,e,n,r,p,m){if(!e)throw Error("Invalid event type");const _=C(p)?!!p.capture:!!p;let I=re(t);if(I||(t[ne]=I=new Mt(t)),n=I.add(e,n,r,_,m),n.proxy)return n;if(r=Jn(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)d||(p=_),p===void 0&&(p=!1),t.addEventListener(e.toString(),r,p);else if(t.attachEvent)t.attachEvent(ke(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Jn(){function t(n){return e.call(t.src,t.listener,n)}const e=qn;return t}function De(t,e,n,r,p){if(Array.isArray(e))for(var m=0;m<e.length;m++)De(t,e[m],n,r,p);else r=C(r)?!!r.capture:!!r,n=xe(n),t&&t[ot]?(t=t.i,m=String(e).toString(),m in t.g&&(e=t.g[m],n=ee(e,n,r,p),n>-1&&(Pt(e[n]),Array.prototype.splice.call(e,n,1),e.length==0&&(delete t.g[m],t.h--)))):t&&(t=re(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ee(e,n,r,p)),(n=t>-1?e[t]:null)&&se(n))}function se(t){if(typeof t!="number"&&t&&!t.da){var e=t.src;if(e&&e[ot])te(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ke(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=re(e))?(te(n,t),n.h==0&&(n.src=null,e[ne]=null)):Pt(t)}}}function ke(t){return t in ie?ie[t]:ie[t]="on"+t}function qn(t,e){if(t.da)t=!0;else{e=new X(e,this);const n=t.listener,r=t.ha||t.src;t.fa&&se(t),t=n.call(r,e)}return t}function re(t){return t=t[ne],t instanceof Mt?t:null}var oe="__closure_events_fn_"+(Math.random()*1e9>>>0);function xe(t){return typeof t=="function"?t:(t[oe]||(t[oe]=function(e){return t.handleEvent(e)}),t[oe])}function F(){f.call(this),this.i=new Mt(this),this.M=this,this.G=null}A(F,f),F.prototype[ot]=!0,F.prototype.removeEventListener=function(t,e,n,r){De(this,t,e,n,r)};function z(t,e){var n,r=t.G;if(r)for(n=[];r;r=r.G)n.push(r);if(t=t.M,r=e.type||e,typeof e=="string")e=new c(e,t);else if(e instanceof c)e.target=e.target||t;else{var p=e;e=new c(r,t),Re(e,p)}p=!0;let m,_;if(n)for(_=n.length-1;_>=0;_--)m=e.g=n[_],p=jt(m,r,!0,e)&&p;if(m=e.g=t,p=jt(m,r,!0,e)&&p,p=jt(m,r,!1,e)&&p,n)for(_=0;_<n.length;_++)m=e.g=n[_],p=jt(m,r,!1,e)&&p}F.prototype.N=function(){if(F.Z.N.call(this),this.i){var t=this.i;for(const e in t.g){const n=t.g[e];for(let r=0;r<n.length;r++)Pt(n[r]);delete t.g[e],t.h--}}this.G=null},F.prototype.J=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},F.prototype.K=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function jt(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();let p=!0;for(let m=0;m<e.length;++m){const _=e[m];if(_&&!_.da&&_.capture==n){const I=_.listener,L=_.ha||_.src;_.fa&&te(t.i,_),p=I.call(L,r)!==!1&&p}}return p&&!r.defaultPrevented}function Zn(t,e){if(typeof t!="function")if(t&&typeof t.handleEvent=="function")t=T(t.handleEvent,t);else throw Error("Invalid listener argument");return Number(e)>2147483647?-1:v.setTimeout(t,e||0)}function Pe(t){t.g=Zn(()=>{t.g=null,t.i&&(t.i=!1,Pe(t))},t.l);const e=t.h;t.h=null,t.m.apply(null,e)}class Qn extends f{constructor(e,n){super(),this.m=e,this.l=n,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yt(t){f.call(this),this.h=t,this.g={}}A(yt,f);var Ne=[];function Me(t){Nt(t.g,function(e,n){this.g.hasOwnProperty(n)&&se(e)},t),t.g={}}yt.prototype.N=function(){yt.Z.N.call(this),Me(this)},yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=v.JSON.stringify,ti=v.JSON.parse,ei=class{stringify(t){return v.JSON.stringify(t,void 0)}parse(t){return v.JSON.parse(t,void 0)}};function je(){}function Be(){}var mt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function le(){c.call(this,"d")}A(le,c);function ue(){c.call(this,"c")}A(ue,c);var ht={},Le=null;function Bt(){return Le=Le||new F}ht.Ia="serverreachability";function Ue(t){c.call(this,ht.Ia,t)}A(Ue,c);function vt(t){const e=Bt();z(e,new Ue(e))}ht.STAT_EVENT="statevent";function He(t,e){c.call(this,ht.STAT_EVENT,t),this.stat=e}A(He,c);function V(t){const e=Bt();z(e,new He(e,t))}ht.Ja="timingevent";function Fe(t,e){c.call(this,ht.Ja,t),this.size=e}A(Fe,c);function _t(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return v.setTimeout(function(){t()},e)}function wt(){this.g=!0}wt.prototype.ua=function(){this.g=!1};function ni(t,e,n,r,p,m){t.info(function(){if(t.g)if(m){var _="",I=m.split("&");for(let O=0;O<I.length;O++){var L=I[O].split("=");if(L.length>1){const U=L[0];L=L[1];const q=U.split("_");_=q.length>=2&&q[1]=="type"?_+(U+"="+L+"&"):_+(U+"=redacted&")}}}else _=null;else _=m;return"XMLHTTP REQ ("+r+") [attempt "+p+"]: "+e+`
`+n+`
`+_})}function ii(t,e,n,r,p,m,_){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+p+"]: "+e+`
`+n+`
`+m+" "+_})}function pt(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+ri(t,n)+(r?" "+r:"")})}function si(t,e){t.info(function(){return"TIMEOUT: "+e})}wt.prototype.info=function(){};function ri(t,e){if(!t.g)return e;if(!e)return null;try{const m=JSON.parse(e);if(m){for(t=0;t<m.length;t++)if(Array.isArray(m[t])){var n=m[t];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var p=r[0];if(p!="noop"&&p!="stop"&&p!="close")for(let _=1;_<r.length;_++)r[_]=""}}}}return he(m)}catch{return e}}var Lt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ze={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ve;function ce(){}A(ce,je),ce.prototype.g=function(){return new XMLHttpRequest},Ve=new ce;function Et(t){return encodeURIComponent(String(t))}function oi(t){var e=1;t=t.split(":");const n=[];for(;e>0&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function tt(t,e,n,r){this.j=t,this.i=e,this.l=n,this.S=r||1,this.V=new yt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new We}function We(){this.i=null,this.g="",this.h=!1}var Xe={},ae={};function fe(t,e,n){t.M=1,t.A=Ht(J(e)),t.u=n,t.R=!0,$e(t,null)}function $e(t,e){t.F=Date.now(),Ut(t),t.B=J(t.A);var n=t.B,r=t.S;Array.isArray(r)||(r=[String(r)]),on(n.i,"t",r),t.C=0,n=t.j.L,t.h=new We,t.g=bn(t.j,n?e:null,!t.u),t.P>0&&(t.O=new Qn(T(t.Y,t,t.g),t.P)),e=t.V,n=t.g,r=t.ba;var p="readystatechange";Array.isArray(p)||(p&&(Ne[0]=p.toString()),p=Ne);for(let m=0;m<p.length;m++){const _=Oe(n,p[m],r||e.handleEvent,!1,e.h||e);if(!_)break;e.g[_.key]=_}e=t.J?Ie(t.J):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.B,t.v,t.u,e)):(t.v="GET",t.g.ea(t.B,t.v,null,e)),vt(),ni(t.i,t.v,t.B,t.l,t.S,t.u)}tt.prototype.ba=function(t){t=t.target;const e=this.O;e&&it(t)==3?e.j():this.Y(t)},tt.prototype.Y=function(t){try{if(t==this.g)t:{const I=it(this.g),L=this.g.ya(),O=this.g.ca();if(!(I<3)&&(I!=3||this.g&&(this.h.h||this.g.la()||pn(this.g)))){this.K||I!=4||L==7||(L==8||O<=0?vt(3):vt(2)),pe(this);var e=this.g.ca();this.X=e;var n=hi(this);if(this.o=e==200,ii(this.i,this.v,this.B,this.l,this.S,I,e),this.o){if(this.U&&!this.L){e:{if(this.g){var r,p=this.g;if((r=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!h(r)){var m=r;break e}}m=null}if(t=m)pt(this.i,this.l,t,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ge(this,t);else{this.o=!1,this.m=3,V(12),lt(this),Tt(this);break t}}if(this.R){t=!0;let U;for(;!this.K&&this.C<n.length;)if(U=li(this,n),U==ae){I==4&&(this.m=4,V(14),t=!1),pt(this.i,this.l,null,"[Incomplete Response]");break}else if(U==Xe){this.m=4,V(15),pt(this.i,this.l,n,"[Invalid Chunk]"),t=!1;break}else pt(this.i,this.l,U,null),ge(this,U);if(Ge(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),I!=4||n.length!=0||this.h.h||(this.m=1,V(16),t=!1),this.o=this.o&&t,!t)pt(this.i,this.l,n,"[Invalid Chunked Response]"),lt(this),Tt(this);else if(n.length>0&&!this.W){this.W=!0;var _=this.j;_.g==this&&_.aa&&!_.P&&(_.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Te(_),_.P=!0,V(11))}}else pt(this.i,this.l,n,null),ge(this,n);I==4&&lt(this),this.o&&!this.K&&(I==4?wn(this.j,this):(this.o=!1,Ut(this)))}else Ti(this.g),e==400&&n.indexOf("Unknown SID")>0?(this.m=3,V(12)):(this.m=0,V(13)),lt(this),Tt(this)}}}catch{}finally{}};function hi(t){if(!Ge(t))return t.g.la();const e=pn(t.g);if(e==="")return"";let n="";const r=e.length,p=it(t.g)==4;if(!t.h.i){if(typeof TextDecoder>"u")return lt(t),Tt(t),"";t.h.i=new v.TextDecoder}for(let m=0;m<r;m++)t.h.h=!0,n+=t.h.i.decode(e[m],{stream:!(p&&m==r-1)});return e.length=0,t.h.g+=n,t.C=0,t.h.g}function Ge(t){return t.g?t.v=="GET"&&t.M!=2&&t.j.Aa:!1}function li(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ae:(n=Number(e.substring(n,r)),isNaN(n)?Xe:(r+=1,r+n>e.length?ae:(e=e.slice(r,r+n),t.C=r+n,e)))}tt.prototype.cancel=function(){this.K=!0,lt(this)};function Ut(t){t.T=Date.now()+t.H,Ke(t,t.H)}function Ke(t,e){if(t.D!=null)throw Error("WatchDog timer not null");t.D=_t(T(t.aa,t),e)}function pe(t){t.D&&(v.clearTimeout(t.D),t.D=null)}tt.prototype.aa=function(){this.D=null;const t=Date.now();t-this.T>=0?(si(this.i,this.B),this.M!=2&&(vt(),V(17)),lt(this),this.m=2,Tt(this)):Ke(this,this.T-t)};function Tt(t){t.j.I==0||t.K||wn(t.j,t)}function lt(t){pe(t);var e=t.O;e&&typeof e.dispose=="function"&&e.dispose(),t.O=null,Me(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.dispose())}function ge(t,e){try{var n=t.j;if(n.I!=0&&(n.g==t||de(n.h,t))){if(!t.L&&de(n.h,t)&&n.I==3){try{var r=n.Ba.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var p=r;if(p[0]==0){t:if(!n.v){if(n.g)if(n.g.F+3e3<t.F)Xt(n),Vt(n);else break t;Ee(n),V(18)}}else n.xa=p[1],0<n.xa-n.K&&p[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=_t(T(n.Va,n),6e3));qe(n.h)<=1&&n.ta&&(n.ta=void 0)}else ct(n,11)}else if((t.L||n.g==t)&&Xt(n),!h(e))for(p=n.Ba.g.parse(e),e=0;e<p.length;e++){let O=p[e];const U=O[0];if(!(U<=n.K))if(n.K=U,O=O[1],n.I==2)if(O[0]=="c"){n.M=O[1],n.ba=O[2];const q=O[3];q!=null&&(n.ka=q,n.j.info("VER="+n.ka));const at=O[4];at!=null&&(n.za=at,n.j.info("SVER="+n.za));const st=O[5];st!=null&&typeof st=="number"&&st>0&&(r=1.5*st,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const rt=t.g;if(rt){const Gt=rt.g?rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gt){var m=r.h;m.g||Gt.indexOf("spdy")==-1&&Gt.indexOf("quic")==-1&&Gt.indexOf("h2")==-1||(m.j=m.l,m.g=new Set,m.h&&(ye(m,m.h),m.h=null))}if(r.G){const Ce=rt.g?rt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ce&&(r.wa=Ce,k(r.J,r.G,Ce))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-t.F,n.j.info("Handshake RTT: "+n.T+"ms")),r=n;var _=t;if(r.na=Cn(r,r.L?r.ba:null,r.W),_.L){Ze(r.h,_);var I=_,L=r.O;L&&(I.H=L),I.D&&(pe(I),Ut(I)),r.g=_}else vn(r);n.i.length>0&&Wt(n)}else O[0]!="stop"&&O[0]!="close"||ct(n,7);else n.I==3&&(O[0]=="stop"||O[0]=="close"?O[0]=="stop"?ct(n,7):we(n):O[0]!="noop"&&n.l&&n.l.qa(O),n.A=0)}}vt(4)}catch{}}var ui=class{constructor(t,e){this.g=t,this.map=e}};function Ye(t){this.l=t||10,v.PerformanceNavigationTiming?(t=v.performance.getEntriesByType("navigation"),t=t.length>0&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(v.chrome&&v.chrome.loadTimes&&v.chrome.loadTimes()&&v.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Je(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function qe(t){return t.h?1:t.g?t.g.size:0}function de(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ye(t,e){t.g?t.g.add(e):t.h=e}function Ze(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Ye.prototype.cancel=function(){if(this.i=Qe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Qe(t){if(t.h!=null)return t.i.concat(t.h.G);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.G);return e}return P(t.i)}var tn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ci(t,e){if(t){t=t.split("&");for(let n=0;n<t.length;n++){const r=t[n].indexOf("=");let p,m=null;r>=0?(p=t[n].substring(0,r),m=t[n].substring(r+1)):p=t[n],e(p,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function et(t){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let e;t instanceof et?(this.l=t.l,Ct(this,t.j),this.o=t.o,this.g=t.g,bt(this,t.u),this.h=t.h,me(this,hn(t.i)),this.m=t.m):t&&(e=String(t).match(tn))?(this.l=!1,Ct(this,e[1]||"",!0),this.o=At(e[2]||""),this.g=At(e[3]||"",!0),bt(this,e[4]),this.h=At(e[5]||"",!0),me(this,e[6]||"",!0),this.m=At(e[7]||"")):(this.l=!1,this.i=new St(null,this.l))}et.prototype.toString=function(){const t=[];var e=this.j;e&&t.push(It(e,en,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.o)&&t.push(It(e,en,!0),"@"),t.push(Et(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.u,n!=null&&t.push(":",String(n))),(n=this.h)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(It(n,n.charAt(0)=="/"?pi:fi,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",It(n,di)),t.join("")},et.prototype.resolve=function(t){const e=J(this);let n=!!t.j;n?Ct(e,t.j):n=!!t.o,n?e.o=t.o:n=!!t.g,n?e.g=t.g:n=t.u!=null;var r=t.h;if(n)bt(e,t.u);else if(n=!!t.h){if(r.charAt(0)!="/")if(this.g&&!this.h)r="/"+r;else{var p=e.h.lastIndexOf("/");p!=-1&&(r=e.h.slice(0,p+1)+r)}if(p=r,p==".."||p==".")r="";else if(p.indexOf("./")!=-1||p.indexOf("/.")!=-1){r=p.lastIndexOf("/",0)==0,p=p.split("/");const m=[];for(let _=0;_<p.length;){const I=p[_++];I=="."?r&&_==p.length&&m.push(""):I==".."?((m.length>1||m.length==1&&m[0]!="")&&m.pop(),r&&_==p.length&&m.push("")):(m.push(I),r=!0)}r=m.join("/")}else r=p}return n?e.h=r:n=t.i.toString()!=="",n?me(e,hn(t.i)):n=!!t.m,n&&(e.m=t.m),e};function J(t){return new et(t)}function Ct(t,e,n){t.j=n?At(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bt(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.u=e}else t.u=null}function me(t,e,n){e instanceof St?(t.i=e,yi(t.i,t.l)):(n||(e=It(e,gi)),t.i=new St(e,t.l))}function k(t,e,n){t.i.set(e,n)}function Ht(t){return k(t,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),t}function At(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function It(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,ai),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ai(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var en=/[#\/\?@]/g,fi=/[#\?:]/g,pi=/[#\?]/g,gi=/[#\?@]/g,di=/#/g;function St(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ut(t){t.g||(t.g=new Map,t.h=0,t.i&&ci(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}s=St.prototype,s.add=function(t,e){ut(this),this.i=null,t=gt(this,t);let n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function nn(t,e){ut(t),e=gt(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sn(t,e){return ut(t),e=gt(t,e),t.g.has(e)}s.forEach=function(t,e){ut(this),this.g.forEach(function(n,r){n.forEach(function(p){t.call(e,p,r,this)},this)},this)};function rn(t,e){ut(t);let n=[];if(typeof e=="string")sn(t,e)&&(n=n.concat(t.g.get(gt(t,e))));else for(t=Array.from(t.g.values()),e=0;e<t.length;e++)n=n.concat(t[e]);return n}s.set=function(t,e){return ut(this),this.i=null,t=gt(this,t),sn(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},s.get=function(t,e){return t?(t=rn(this,t),t.length>0?String(t[0]):e):e};function on(t,e,n){nn(t,e),n.length>0&&(t.i=null,t.g.set(gt(t,e),P(n)),t.h+=n.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(let r=0;r<e.length;r++){var n=e[r];const p=Et(n);n=rn(this,n);for(let m=0;m<n.length;m++){let _=p;n[m]!==""&&(_+="="+Et(n[m])),t.push(_)}}return this.i=t.join("&")};function hn(t){const e=new St;return e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),e}function gt(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function yi(t,e){e&&!t.j&&(ut(t),t.i=null,t.g.forEach(function(n,r){const p=r.toLowerCase();r!=p&&(nn(this,r),on(this,p,n))},t)),t.j=e}function mi(t,e){const n=new wt;if(v.Image){const r=new Image;r.onload=R(nt,n,"TestLoadImage: loaded",!0,e,r),r.onerror=R(nt,n,"TestLoadImage: error",!1,e,r),r.onabort=R(nt,n,"TestLoadImage: abort",!1,e,r),r.ontimeout=R(nt,n,"TestLoadImage: timeout",!1,e,r),v.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function vi(t,e){const n=new wt,r=new AbortController,p=setTimeout(()=>{r.abort(),nt(n,"TestPingServer: timeout",!1,e)},1e4);fetch(t,{signal:r.signal}).then(m=>{clearTimeout(p),m.ok?nt(n,"TestPingServer: ok",!0,e):nt(n,"TestPingServer: server error",!1,e)}).catch(()=>{clearTimeout(p),nt(n,"TestPingServer: error",!1,e)})}function nt(t,e,n,r,p){try{p&&(p.onload=null,p.onerror=null,p.onabort=null,p.ontimeout=null),r(n)}catch{}}function _i(){this.g=new ei}function ve(t){this.i=t.Sb||null,this.h=t.ab||!1}A(ve,je),ve.prototype.g=function(){return new Ft(this.i,this.h)};function Ft(t,e){F.call(this),this.H=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ft,F),s=Ft.prototype,s.open=function(t,e){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=t,this.D=e,this.readyState=1,Ot(this)},s.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const e={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};t&&(e.body=t),(this.H||v).fetch(new Request(this.D,e)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rt(this)),this.readyState=0},s.Pa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof v.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ln(this)}else t.text().then(this.Oa.bind(this),this.ga.bind(this))};function ln(t){t.j.read().then(t.Ma.bind(t)).catch(t.ga.bind(t))}s.Ma=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.B.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Rt(this):Ot(this),this.readyState==3&&ln(this)}},s.Oa=function(t){this.g&&(this.response=this.responseText=t,Rt(this))},s.Na=function(t){this.g&&(this.response=t,Rt(this))},s.ga=function(){this.g&&Rt(this)};function Rt(t){t.readyState=4,t.l=null,t.j=null,t.B=null,Ot(t)}s.setRequestHeader=function(t,e){this.A.append(t,e)},s.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ot(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ft.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});function un(t){let e="";return Nt(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function _e(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=un(n),typeof t=="string"?n!=null&&Et(n):k(t,e,n))}function M(t){F.call(this),this.headers=new Map,this.L=t||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(M,F);var wi=/^https?$/i,Ei=["POST","PUT"];s=M.prototype,s.Fa=function(t){this.H=t},s.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ve.g(),this.g.onreadystatechange=E(T(this.Ca,this));try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(m){cn(this,m);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var p in r)n.set(p,r[p]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const m of r.keys())n.set(m,r.get(m));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(m=>m.toLowerCase()=="content-type"),p=v.FormData&&t instanceof v.FormData,!(Array.prototype.indexOf.call(Ei,e,void 0)>=0)||r||p||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,_]of n)this.g.setRequestHeader(m,_);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(t),this.v=!1}catch(m){cn(this,m)}};function cn(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.o=5,an(t),zt(t)}function an(t){t.A||(t.A=!0,z(t,"complete"),z(t,"error"))}s.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=t||7,z(this,"complete"),z(this,"abort"),zt(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),M.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?fn(this):this.Xa())},s.Xa=function(){fn(this)};function fn(t){if(t.h&&typeof w<"u"){if(t.v&&it(t)==4)setTimeout(t.Ca.bind(t),0);else if(z(t,"readystatechange"),it(t)==4){t.h=!1;try{const m=t.ca();t:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=m===0){let _=String(t.D).match(tn)[1]||null;!_&&v.self&&v.self.location&&(_=v.self.location.protocol.slice(0,-1)),r=!wi.test(_?_.toLowerCase():"")}n=r}if(n)z(t,"complete"),z(t,"success");else{t.o=6;try{var p=it(t)>2?t.g.statusText:""}catch{p=""}t.l=p+" ["+t.ca()+"]",an(t)}}finally{zt(t)}}}}function zt(t,e){if(t.g){t.m&&(clearTimeout(t.m),t.m=null);const n=t.g;t.g=null,e||z(t,"ready");try{n.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function it(t){return t.g?t.g.readyState:0}s.ca=function(){try{return it(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ti(e)}};function pn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.F){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Ti(t){const e={};t=(t.g&&it(t)>=2&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(h(t[r]))continue;var n=oi(t[r]);const p=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const m=e[p]||[];e[p]=m,m.push(n)}Kn(e,function(r){return r.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dt(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gn(t){this.za=0,this.i=[],this.j=new wt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Dt("failFast",!1,t),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Dt("baseRetryDelayMs",5e3,t),this.Za=Dt("retryDelaySeedMs",1e4,t),this.Ta=Dt("forwardChannelMaxRetries",2,t),this.va=Dt("forwardChannelRequestTimeoutMs",2e4,t),this.ma=t&&t.xmlHttpFactory||void 0,this.Ua=t&&t.Rb||void 0,this.Aa=t&&t.useFetchStreams||!1,this.O=void 0,this.L=t&&t.supportsCrossDomainXhr||!1,this.M="",this.h=new Ye(t&&t.concurrentRequestLimit),this.Ba=new _i,this.S=t&&t.fastHandshake||!1,this.R=t&&t.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=t&&t.Pb||!1,t&&t.ua&&this.j.ua(),t&&t.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&t&&t.detectBufferingProxy||!1,this.ia=void 0,t&&t.longPollingTimeout&&t.longPollingTimeout>0&&(this.ia=t.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=gn.prototype,s.ka=8,s.I=1,s.connect=function(t,e,n,r){V(0),this.W=t,this.H=e||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=Cn(this,null,this.W),Wt(this)};function we(t){if(dn(t),t.I==3){var e=t.V++,n=J(t.J);if(k(n,"SID",t.M),k(n,"RID",e),k(n,"TYPE","terminate"),kt(t,n),e=new tt(t,t.j,e),e.M=2,e.A=Ht(J(n)),n=!1,v.navigator&&v.navigator.sendBeacon)try{n=v.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&v.Image&&(new Image().src=e.A,n=!0),n||(e.g=bn(e.j,null),e.g.ea(e.A)),e.F=Date.now(),Ut(e)}Tn(t)}function Vt(t){t.g&&(Te(t),t.g.cancel(),t.g=null)}function dn(t){Vt(t),t.v&&(v.clearTimeout(t.v),t.v=null),Xt(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&v.clearTimeout(t.m),t.m=null)}function Wt(t){if(!Je(t.h)&&!t.m){t.m=!0;var e=t.Ea;G||o(),H||(G(),H=!0),a.add(e,t),t.D=0}}function Ci(t,e){return qe(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.G.concat(t.i),!0):t.I==1||t.I==2||t.D>=(t.Sa?0:t.Ta)?!1:(t.m=_t(T(t.Ea,t,e),En(t,t.D)),t.D++,!0)}s.Ea=function(t){if(this.m)if(this.m=null,this.I==1){if(!t){this.V=Math.floor(Math.random()*1e5),t=this.V++;const p=new tt(this,this.j,t);let m=this.o;if(this.U&&(m?(m=Ie(m),Re(m,this.U)):m=this.U),this.u!==null||this.R||(p.J=m,m=null),this.S)t:{for(var e=0,n=0;n<this.i.length;n++){e:{var r=this.i[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break e}r=void 0}if(r===void 0)break;if(e+=r,e>4096){e=n;break t}if(e===4096||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=mn(this,p,e),n=J(this.J),k(n,"RID",t),k(n,"CVER",22),this.G&&k(n,"X-HTTP-Session-Id",this.G),kt(this,n),m&&(this.R?e="headers="+Et(un(m))+"&"+e:this.u&&_e(n,this.u,m)),ye(this.h,p),this.Ra&&k(n,"TYPE","init"),this.S?(k(n,"$req",e),k(n,"SID","null"),p.U=!0,fe(p,n,null)):fe(p,n,e),this.I=2}}else this.I==3&&(t?yn(this,t):this.i.length==0||Je(this.h)||yn(this))};function yn(t,e){var n;e?n=e.l:n=t.V++;const r=J(t.J);k(r,"SID",t.M),k(r,"RID",n),k(r,"AID",t.K),kt(t,r),t.u&&t.o&&_e(r,t.u,t.o),n=new tt(t,t.j,n,t.D+1),t.u===null&&(n.J=t.o),e&&(t.i=e.G.concat(t.i)),e=mn(t,n,1e3),n.H=Math.round(t.va*.5)+Math.round(t.va*.5*Math.random()),ye(t.h,n),fe(n,r,e)}function kt(t,e){t.H&&Nt(t.H,function(n,r){k(e,r,n)}),t.l&&Nt({},function(n,r){k(e,r,n)})}function mn(t,e,n){n=Math.min(t.i.length,n);const r=t.l?T(t.l.Ka,t.l,t):null;t:{var p=t.i;let I=-1;for(;;){const L=["count="+n];I==-1?n>0?(I=p[0].g,L.push("ofs="+I)):I=0:L.push("ofs="+I);let O=!0;for(let U=0;U<n;U++){var m=p[U].g;const q=p[U].map;if(m-=I,m<0)I=Math.max(0,p[U].g-100),O=!1;else try{m="req"+m+"_"||"";try{var _=q instanceof Map?q:Object.entries(q);for(const[at,st]of _){let rt=st;C(st)&&(rt=he(st)),L.push(m+at+"="+encodeURIComponent(rt))}}catch(at){throw L.push(m+"type="+encodeURIComponent("_badmap")),at}}catch{r&&r(q)}}if(O){_=L.join("&");break t}}_=void 0}return t=t.i.splice(0,n),e.G=t,_}function vn(t){if(!t.g&&!t.v){t.Y=1;var e=t.Da;G||o(),H||(G(),H=!0),a.add(e,t),t.A=0}}function Ee(t){return t.g||t.v||t.A>=3?!1:(t.Y++,t.v=_t(T(t.Da,t),En(t,t.A)),t.A++,!0)}s.Da=function(){if(this.v=null,_n(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var t=4*this.T;this.j.info("BP detection timer enabled: "+t),this.B=_t(T(this.Wa,this),t)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,V(10),Vt(this),_n(this))};function Te(t){t.B!=null&&(v.clearTimeout(t.B),t.B=null)}function _n(t){t.g=new tt(t,t.j,"rpc",t.Y),t.u===null&&(t.g.J=t.o),t.g.P=0;var e=J(t.na);k(e,"RID","rpc"),k(e,"SID",t.M),k(e,"AID",t.K),k(e,"CI",t.F?"0":"1"),!t.F&&t.ia&&k(e,"TO",t.ia),k(e,"TYPE","xmlhttp"),kt(t,e),t.u&&t.o&&_e(e,t.u,t.o),t.O&&(t.g.H=t.O);var n=t.g;t=t.ba,n.M=1,n.A=Ht(J(e)),n.u=null,n.R=!0,$e(n,t)}s.Va=function(){this.C!=null&&(this.C=null,Vt(this),Ee(this),V(19))};function Xt(t){t.C!=null&&(v.clearTimeout(t.C),t.C=null)}function wn(t,e){var n=null;if(t.g==e){Xt(t),Te(t),t.g=null;var r=2}else if(de(t.h,e))n=e.G,Ze(t.h,e),r=1;else return;if(t.I!=0){if(e.o)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.F;var p=t.D;r=Bt(),z(r,new Fe(r,n)),Wt(t)}else vn(t);else if(p=e.m,p==3||p==0&&e.X>0||!(r==1&&Ci(t,e)||r==2&&Ee(t)))switch(n&&n.length>0&&(e=t.h,e.i=e.i.concat(n)),p){case 1:ct(t,5);break;case 4:ct(t,10);break;case 3:ct(t,6);break;default:ct(t,2)}}}function En(t,e){let n=t.Qa+Math.floor(Math.random()*t.Za);return t.isActive()||(n*=2),n*e}function ct(t,e){if(t.j.info("Error code "+e),e==2){var n=T(t.bb,t),r=t.Ua;const p=!r;r=new et(r||"//www.google.com/images/cleardot.gif"),v.location&&v.location.protocol=="http"||Ct(r,"https"),Ht(r),p?mi(r.toString(),n):vi(r.toString(),n)}else V(2);t.I=0,t.l&&t.l.pa(e),Tn(t),dn(t)}s.bb=function(t){t?(this.j.info("Successfully pinged google.com"),V(2)):(this.j.info("Failed to ping google.com"),V(1))};function Tn(t){if(t.I=0,t.ja=[],t.l){const e=Qe(t.h);(e.length!=0||t.i.length!=0)&&(D(t.ja,e),D(t.ja,t.i),t.h.i.length=0,P(t.i),t.i.length=0),t.l.oa()}}function Cn(t,e,n){var r=n instanceof et?J(n):new et(n);if(r.g!="")e&&(r.g=e+"."+r.g),bt(r,r.u);else{var p=v.location;r=p.protocol,e=e?e+"."+p.hostname:p.hostname,p=+p.port;const m=new et(null);r&&Ct(m,r),e&&(m.g=e),p&&bt(m,p),n&&(m.h=n),r=m}return n=t.G,e=t.wa,n&&e&&k(r,n,e),k(r,"VER",t.ka),kt(t,r),r}function bn(t,e,n){if(e&&!t.L)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Aa&&!t.ma?new M(new ve({ab:n})):new M(t.ma),e.Fa(t.L),e}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function An(){}s=An.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function $t(){}$t.prototype.g=function(t,e){return new K(t,e)};function K(t,e){F.call(this),this.g=new gn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.sa&&(t?t["X-WebChannel-Client-Profile"]=e.sa:t={"X-WebChannel-Client-Profile":e.sa}),this.g.U=t,(t=e&&e.Qb)&&!h(t)&&(this.g.u=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!h(e)&&(this.g.G=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new dt(this)}A(K,F),K.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},K.prototype.close=function(){we(this.g)},K.prototype.o=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=he(t),t=n);e.i.push(new ui(e.Ya++,t)),e.I==3&&Wt(e)},K.prototype.N=function(){this.g.l=null,delete this.j,we(this.g),delete this.g,K.Z.N.call(this)};function In(t){le.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}A(In,le);function Sn(){ue.call(this),this.status=1}A(Sn,ue);function dt(t){this.g=t}A(dt,An),dt.prototype.ra=function(){z(this.g,"a")},dt.prototype.qa=function(t){z(this.g,new In(t))},dt.prototype.pa=function(t){z(this.g,new Sn)},dt.prototype.oa=function(){z(this.g,"b")},$t.prototype.createWebChannel=$t.prototype.g,K.prototype.send=K.prototype.o,K.prototype.open=K.prototype.m,K.prototype.close=K.prototype.close,vs=function(){return new $t},ms=function(){return Bt()},ys=ht,ds={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Lt.NO_ERROR=0,Lt.TIMEOUT=8,Lt.HTTP_ERROR=6,gs=Lt,ze.COMPLETE="complete",ps=ze,Be.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",F.prototype.listen=F.prototype.J,fs=Be,M.prototype.listenOnce=M.prototype.K,M.prototype.getLastError=M.prototype.Ha,M.prototype.getLastErrorCode=M.prototype.ya,M.prototype.getStatus=M.prototype.ca,M.prototype.getResponseJson=M.prototype.La,M.prototype.getResponseText=M.prototype.la,M.prototype.send=M.prototype.ea,M.prototype.setWithCredentials=M.prototype.Fa,as=M}).apply(typeof Kt<"u"?Kt:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="firebasestorage.googleapis.com",_s="storageBucket",ws=120*1e3,Es=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q extends Qt{constructor(i,u,g=0){super(Ae(i),`Firebase Storage: ${u} (${Ae(i)})`),this.status_=g,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Q.prototype)}get status(){return this.status_}set status(i){this.status_=i}_codeEquals(i){return Ae(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Z;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Z||(Z={}));function Ae(s){return"storage/"+s}function Ts(){const s="An unknown error occurred, please check the error payload for server response.";return new Q(Z.UNKNOWN,s)}function Cs(){return new Q(Z.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bs(){return new Q(Z.CANCELED,"User canceled the upload/download.")}function As(s){return new Q(Z.INVALID_URL,"Invalid URL '"+s+"'.")}function Is(s){return new Q(Z.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function Nn(s){return new Q(Z.INVALID_ARGUMENT,s)}function Wn(){return new Q(Z.APP_DELETED,"The Firebase app was deleted.")}function Ss(s){return new Q(Z.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(i,u){this.bucket=i,this.path_=u}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,u){let g;try{g=Y.makeFromUrl(i,u)}catch{return new Y(i,"")}if(g.path==="")return g;throw Is(i)}static makeFromUrl(i,u){let g=null;const y="([A-Za-z0-9.\\-_]+)";function w(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const v="(/(.*))?$",C=new RegExp("^gs://"+y+v,"i"),b={bucket:1,path:3};function T(j){j.path_=decodeURIComponent(j.path)}const R="v[A-Za-z0-9_]+",A=u.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",P=new RegExp(`^https?://${A}/${R}/b/${y}/o${E}`,"i"),D={bucket:1,path:3},N=u===Vn?"(?:storage.googleapis.com|storage.cloud.google.com)":u,S="([^?#]*)",W=new RegExp(`^https?://${N}/${y}/${S}`,"i"),B=[{regex:C,indices:b,postModify:w},{regex:P,indices:D,postModify:T},{regex:W,indices:{bucket:1,path:2},postModify:T}];for(let j=0;j<B.length;j++){const G=B[j],H=G.regex.exec(i);if(H){const a=H[G.indices.bucket];let o=H[G.indices.path];o||(o=""),g=new Y(a,o),G.postModify(g);break}}if(g==null)throw As(i);return g}}class Rs{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(s,i,u){let g=1,y=null,w=null,v=!1,C=0;function b(){return C===2}let T=!1;function R(...S){T||(T=!0,i.apply(null,S))}function A(S){y=setTimeout(()=>{y=null,s(P,b())},S)}function E(){w&&clearTimeout(w)}function P(S,...W){if(T){E();return}if(S){E(),R.call(null,S,...W);return}if(b()||v){E(),R.call(null,S,...W);return}g<64&&(g*=2);let B;C===1?(C=2,B=0):B=(g+Math.random())*1e3,A(B)}let D=!1;function N(S){D||(D=!0,E(),!T&&(y!==null?(S||(C=2),clearTimeout(y),A(0)):S||(C=1)))}return A(0),w=setTimeout(()=>{v=!0,N(!0)},u),N}function Ds(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(s){return s!==void 0}function Mn(s,i,u,g){if(g<i)throw Nn(`Invalid value for '${s}'. Expected ${i} or greater.`);if(g>u)throw Nn(`Invalid value for '${s}'. Expected ${u} or less.`)}function xs(s){const i=encodeURIComponent;let u="?";for(const g in s)if(s.hasOwnProperty(g)){const y=i(g)+"="+i(s[g]);u=u+y+"&"}return u=u.slice(0,-1),u}var Jt;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Jt||(Jt={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(s,i){const u=s>=500&&s<600,y=[408,429].indexOf(s)!==-1,w=i.indexOf(s)!==-1;return u||y||w}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(i,u,g,y,w,v,C,b,T,R,A,E=!0,P=!1){this.url_=i,this.method_=u,this.headers_=g,this.body_=y,this.successCodes_=w,this.additionalRetryCodes_=v,this.callback_=C,this.errorCallback_=b,this.timeout_=T,this.progressCallback_=R,this.connectionFactory_=A,this.retry=E,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,N)=>{this.resolve_=D,this.reject_=N,this.start_()})}start_(){const i=(g,y)=>{if(y){g(!1,new Yt(!1,null,!0));return}const w=this.connectionFactory_();this.pendingConnection_=w;const v=C=>{const b=C.loaded,T=C.lengthComputable?C.total:-1;this.progressCallback_!==null&&this.progressCallback_(b,T)};this.progressCallback_!==null&&w.addUploadProgressListener(v),w.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&w.removeUploadProgressListener(v),this.pendingConnection_=null;const C=w.getErrorCode()===Jt.NO_ERROR,b=w.getStatus();if(!C||Ps(b,this.additionalRetryCodes_)&&this.retry){const R=w.getErrorCode()===Jt.ABORT;g(!1,new Yt(!1,null,R));return}const T=this.successCodes_.indexOf(b)!==-1;g(!0,new Yt(T,w))})},u=(g,y)=>{const w=this.resolve_,v=this.reject_,C=y.connection;if(y.wasSuccessCode)try{const b=this.callback_(C,C.getResponse());ks(b)?w(b):w()}catch(b){v(b)}else if(C!==null){const b=Ts();b.serverResponse=C.getErrorText(),this.errorCallback_?v(this.errorCallback_(C,b)):v(b)}else if(y.canceled){const b=this.appDelete_?Wn():bs();v(b)}else{const b=Cs();v(b)}};this.canceled_?u(!1,new Yt(!1,null,!0)):this.backoffId_=Os(i,u,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,this.backoffId_!==null&&Ds(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yt{constructor(i,u,g){this.wasSuccessCode=i,this.connection=u,this.canceled=!!g}}function Ms(s,i){i!==null&&i.length>0&&(s.Authorization="Firebase "+i)}function js(s,i){s["X-Firebase-Storage-Version"]="webjs/"+(i??"AppManager")}function Bs(s,i){i&&(s["X-Firebase-GMPID"]=i)}function Ls(s,i){i!==null&&(s["X-Firebase-AppCheck"]=i)}function Us(s,i,u,g,y,w,v=!0,C=!1){const b=xs(s.urlParams),T=s.url+b,R=Object.assign({},s.headers);return Bs(R,i),Ms(R,u),js(R,w),Ls(R,g),new Ns(T,s.method,R,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,y,v,C)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(s){if(s.length===0)return null;const i=s.lastIndexOf("/");return i===-1?"":s.slice(0,i)}function Fs(s){const i=s.lastIndexOf("/",s.length-2);return i===-1?s:s.slice(i+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(i,u){this._service=i,u instanceof Y?this._location=u:this._location=Y.makeFromUrl(u,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,u){return new qt(i,u)}get root(){const i=new Y(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fs(this._location.path)}get storage(){return this._service}get parent(){const i=Hs(this._location.path);if(i===null)return null;const u=new Y(this._location.bucket,i);return new qt(this._service,u)}_throwIfRoot(i){if(this._location.path==="")throw Ss(i)}}function jn(s,i){const u=i==null?void 0:i[_s];return u==null?null:Y.makeFromBucketSpec(u,s)}function zs(s,i,u,g={}){s.host=`${i}:${u}`;const y=Fn(i);y&&(Fi(`https://${s.host}/b`),Xi("Storage",!0)),s._isUsingEmulator=!0,s._protocol=y?"https":"http";const{mockUserToken:w}=g;w&&(s._overrideAuthToken=typeof w=="string"?w:zi(w,s.app.options.projectId))}class Vs{constructor(i,u,g,y,w,v=!1){this.app=i,this._authProvider=u,this._appCheckProvider=g,this._url=y,this._firebaseVersion=w,this._isUsingEmulator=v,this._bucket=null,this._host=Vn,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ws,this._maxUploadRetryTime=Es,this._requests=new Set,y!=null?this._bucket=Y.makeFromBucketSpec(y,this._host):this._bucket=jn(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._url!=null?this._bucket=Y.makeFromBucketSpec(this._url,i):this._bucket=jn(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){Mn("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){Mn("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const i=this._authProvider.getImmediate({optional:!0});if(i){const u=await i.getToken();if(u!==null)return u.accessToken}return null}async _getAppCheckToken(){if(Ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=this._appCheckProvider.getImmediate({optional:!0});return i?(await i.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new qt(this,i)}_makeRequest(i,u,g,y,w=!0){if(this._deleted)return new Rs(Wn());{const v=Us(i,this._appId,g,y,u,this._firebaseVersion,w,this._isUsingEmulator);return this._requests.add(v),v.getPromise().then(()=>this._requests.delete(v),()=>this._requests.delete(v)),v}}async makeRequestWithTokens(i,u){const[g,y]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(i,u,g,y).getPromise()}}const Bn="@firebase/storage",Ln="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="storage";function ar(s=Si(),i){s=ts(s);const g=Ri(s,Xn).getImmediate({identifier:i}),y=Ui("storage");return y&&Ws(g,...y),g}function Ws(s,i,u,g={}){zs(s,i,u,g)}function Xs(s,{instanceIdentifier:i}){const u=s.getProvider("app").getImmediate(),g=s.getProvider("auth-internal"),y=s.getProvider("app-check-internal");return new Vs(u,g,y,i,Ai)}function $s(){bi(new es(Xn,Xs,"PUBLIC").setMultipleInstances(!0)),Rn(Bn,Ln,""),Rn(Bn,Ln,"esm2020")}$s();export{Ui as A,zi as B,es as C,er as D,Ki as E,Qt as F,ps as G,gs as H,us as I,vs as J,ms as K,cr as L,cs as M,ys as N,ds as S,fs as W,as as X,Ks as a,ur as b,Dn as c,qi as d,Ys as e,Js as f,ar as g,Qs as h,nr as i,Zs as j,ts as k,zn as l,lr as m,x as n,Pi as o,Fn as p,rr as q,Li as r,Fi as s,tr as t,Xi as u,ir as v,sr as w,qs as x,or as y,hr as z};
//# sourceMappingURL=vendor_firebase_misc-rlVDSRsL.js.map
